<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html lang="UTF-8" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Jackson">
    <meta name="keyword" content="slick, flat, dashboard, bootstrap, admin, template, theme, responsive, fluid, retina">
    <link rel="shortcut icon" href="javascript:;" type="image/png">
    <title>听雨轩</title>
    <th:block th:include="include/headerinclude.html::headerinclude"></th:block>
</head>
<body class="sticky-header">
<section>
    <div th:replace="include/menu-section.html::menu-section"></div>
    <div class="body-content" style="min-height: 1200px;">
        <div th:replace="include/header-section.html::header-section"></div>
        <!--body wrapper start-->
        <div class="wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <section class="panel">
                        <header class="panel-heading">
                            创建用户
                        </header>
                        <div class="panel-body">
                            <form class="form-horizontal" role="form" id="editForm" >
                                <input type="hidden" id="id" name="id">
                                <div class="form-group">
                                    <label for="username" class="col-lg-1 col-sm-1 control-label">登录名</label>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" id="username" name="username" >
                                        <p class="help-block"></p>
                                    </div>
                                    <label for="displayName" class="col-lg-1 col-sm-1 control-label">用户名</label>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" id="displayName" name="displayName"  >
                                        <p class="help-block"></p>
                                    </div>
                                    <label for="email" class="col-lg-1 col-sm-1 control-label">邮箱</label>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" id="email" name="email">
                                        <p class="help-block"></p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="cellphone" class="col-lg-1 col-sm-1 control-label">手机号</label>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" id="cellphone" name="cellphone" >
                                        <p class="help-block"></p>
                                    </div>
                                    <label for="address" class="col-lg-1 col-sm-1 control-label">地址</label>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" id="address" name="address">
                                        <p class="help-block"></p>
                                    </div>
                                    <label for="jobnum" class="col-lg-1 col-sm-1 control-label">工号</label>
                                    <div class="col-lg-3">
                                        <input type="text" class="form-control" id="jobnum" name="jobnum">
                                        <p class="help-block"></p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label  class="col-lg-1 col-sm-1 control-label">性别</label>
                                    <div class="col-lg-3">
                                        <input type="hidden" id="gender" name="gender">
                                        <input type="radio" name="gender" value="1"  class="iCheck-flat-green" id="sexRadio1" checked>
                                        <label class="  control-label">男</label>
                                        <input type="radio" name="gender" value="0" class="iCheck-flat-green"  id="sexRadio0">
                                        <label class="  control-label">女</label>
                                        <input type="radio" name="gender" value="2" class="iCheck-flat-green"  id="sexRadio2">
                                        <label class="  control-label">保密</label>
                                        <p class="help-block"></p>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-lg-3 ">
                                        <a type="button" class="btn btn-success m-b-10" id="editForms" onclick="submit()">提交</a>
                                        <button type="button" class="btn btn-success m-b-10" onclick="javascript:history.back();">返回</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>
            </div>
        </div>
        <!--body wrapper end-->

        <footer>
            2017 &copy; WisdomInfo by Liam.
        </footer>
        <div th:replace="include/right-slidebar-section.html::right-slidebar-section"></div>
        <div th:replace="include/modal-section.html::modal-section"></div>
    </div>
</section>

<footer th:replace="include/footerjs.html::footerjs"></footer>
</body>

<script>
   function submit(){
        var record={
            username:$("#username").val(),
            email:$("#email").val(),
            cellphone:$("#cellphone").val(),
            displayName:$("#displayName").val(),
            address:$("#address").val(),
            jobnum:$("#jobnum").val(),
            gender:$("input[name='gender']:checked").val(),
        };
        $.ajax({
            "url": "create",
            "type": "post",
            "data": JSON.stringify(record),
            "contentType": "application/json",
            "dataType": "json"
        }).done(function (data) {
            if (data.success){
                alert("创建成功，点击确定继续");
                window.location.href="list";
            } else {
              alert("创建失败");
            }
        }).fail(function (data) {
            alert(data.message);
        });
    }
</script>
</html>